# cbindgen configuration for MCP Mesh Core FFI

language = "C"

# Header configuration
header = """
/* MCP Mesh Core - C FFI Bindings
 *
 * Auto-generated by cbindgen. Do not modify manually.
 *
 * This header provides C-compatible bindings for the MCP Mesh Rust core,
 * enabling integration with TypeScript, Kotlin, and other languages.
 *
 * Usage:
 *   1. Link with libmcp_mesh_core.so (Linux), libmcp_mesh_core.dylib (macOS),
 *      or mcp_mesh_core.dll (Windows)
 *   2. Include this header
 *   3. Call mesh_start_agent() with JSON spec to start an agent
 *   4. Use mesh_next_event() to receive topology events
 *   5. Call mesh_shutdown() and mesh_free_handle() on cleanup
 *
 * Memory Management:
 *   - Strings returned by mesh_* functions must be freed with mesh_free_string()
 *   - Handles returned by mesh_start_agent() must be freed with mesh_free_handle()
 *   - mesh_version() returns a static string that must NOT be freed
 *
 * Thread Safety:
 *   - All functions are thread-safe
 *   - mesh_last_error() is thread-local
 */
"""

include_guard = "MCP_MESH_CORE_H"
autogen_warning = "/* Warning: This file is autogenerated by cbindgen. Don't modify this manually. */"
include_version = true
cpp_compat = true
documentation = true
documentation_style = "c99"

# Only generate for the ffi module
[parse]
parse_deps = false

[export]
prefix = ""
