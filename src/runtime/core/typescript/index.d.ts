/* tslint:disable */
/* eslint-disable */

/* auto-generated by NAPI-RS */

/** Dependency specification for TypeScript. */
export interface JsDependencySpec {
  /** Capability name to depend on */
  capability: string
  /** Tags for filtering (e.g., ["+fast", "-deprecated"]) */
  tags: Array<string>
  /** Version constraint (e.g., ">=2.0.0") */
  version?: string
}
/** Tool specification for TypeScript. */
export interface JsToolSpec {
  /** Function name in the code */
  functionName: string
  /** Capability name for discovery */
  capability: string
  /** Version of this capability */
  version: string
  /** Tags for filtering */
  tags: Array<string>
  /** Human-readable description */
  description: string
  /** Dependencies required by this tool */
  dependencies: Array<JsDependencySpec>
  /** JSON Schema for input parameters (MCP format) - serialized JSON string */
  inputSchema?: string
}
/** Agent specification for TypeScript. */
export interface JsAgentSpec {
  /** Unique agent name/identifier */
  name: string
  /** Agent version (semver) */
  version: string
  /** Human-readable description */
  description: string
  /** Registry URL (e.g., "http://localhost:8100") */
  registryUrl: string
  /** HTTP port for this agent */
  httpPort: number
  /** HTTP host announced to registry */
  httpHost: string
  /** Namespace for isolation */
  namespace: string
  /** Tools/capabilities provided by this agent */
  tools: Array<JsToolSpec>
  /** Heartbeat interval in seconds */
  heartbeatInterval: number
}
/** Mesh event for TypeScript. */
export interface JsMeshEvent {
  /** Event type (e.g., "dependency_available", "agent_registered") */
  eventType: string
  /** Capability name (for dependency events) */
  capability?: string
  /** Endpoint URL (for dependency_available) */
  endpoint?: string
  /** Function name to call (for dependency_available) */
  functionName?: string
  /** Agent ID (for dependency events) */
  agentId?: string
  /** Function ID of the LLM agent (for llm_tools_updated) */
  functionId?: string
  /** Error message (for error events) */
  error?: string
  /** Reason for event (for disconnect events) */
  reason?: string
}
/**
 * Start an agent runtime with the given specification.
 *
 * This spawns a background Tokio runtime that handles:
 * - Registration with the mesh registry
 * - Periodic heartbeats
 * - Topology change detection
 * - Event streaming
 */
export declare function startAgent(spec: JsAgentSpec): JsAgentHandle
/** Handle to a running agent runtime (TypeScript wrapper). */
export declare class JsAgentHandle {
  /**
   * Wait for and return the next mesh event.
   *
   * This is an async method that blocks until an event is available.
   * Returns null when the runtime has shut down.
   */
  nextEvent(): Promise<JsMeshEvent>
  /**
   * Get current dependency endpoints.
   *
   * Returns an object mapping capability names to endpoint URLs.
   */
  getDependencies(): Promise<Record<string, string>>
  /** Get current agent health status. */
  getStatus(): Promise<string>
  /** Get the agent ID assigned by the registry. */
  getAgentId(): Promise<string | null>
  /** Check if shutdown has been requested. */
  isShutdownRequested(): Promise<boolean>
  /** Request graceful shutdown of the agent runtime. */
  shutdown(): Promise<void>
}
